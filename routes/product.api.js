const router = require("express").Router()
const auth = require("../app/middleware/auth")
const Admin = require("../app/middleware/Admin")
const productController =  require("../app/controller/product.controller")
router.post("/create", Admin ,productController.create)
// app.post('/products', products.create);
router.get("/all", productController.all)
router.get("/all/:id", productController.singleProduct)
router.delete("/all/:id", Admin , productController.deleteProduct)
router.patch("/all/:id", Admin ,productController.editProduct)
router.post("/me/:id", auth, productController.me)
const multer  = require('multer')
const upload = multer({ dest: 'public/' })
router.post('/profile/:id' ,upload.single('img'),  productController.imgUpload)
module.exports = router